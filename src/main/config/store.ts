import Store from "electron-store";
import { FeedItem } from "../services/RssService";

/**
 * [NEW] í”Œë«í¼ë³„ ì¼ì¼ ì‚¬ìš©ëŸ‰ êµ¬ì¡°
 * ê³„ì • ID(ë¸”ë¡œê·¸ ì´ë¦„ ë˜ëŠ” ID)ë¥¼ Keyë¡œ ì‚¬ìš©í•˜ì—¬ ì¹´ìš´íŠ¸ë¥¼ ê²©ë¦¬ ê´€ë¦¬í•©ë‹ˆë‹¤.
 */
export interface DailyUsageStats {
  lastResetDate: string; // YYYY-MM-DD (Local Time)
  tistory: Record<string, number>; // { "blogName": count }
  naver: Record<string, number>; // { "blogId": count }
}

/**
 * ì†Œì¬ ì•„ì´í…œ íƒ€ì… ì •ì˜
 */
export interface MaterialItem {
  id: string;
  type: "link" | "file" | "text";
  value: string; // URL, íŒŒì¼ ê²½ë¡œ, ë˜ëŠ” í…ìŠ¤íŠ¸ ë‚´ìš©
  title: string;
  addedAt: number;
  category: string;
  tags: string[];
  status: "pending" | "processed" | "failed";
}

/**
 * í…œí”Œë¦¿ íƒ€ì… ì •ì˜
 */
type TemplateType = "layout" | "prompt" | "persona";
type TemplateCategory =
  | "tech"
  | "business"
  | "lifestyle"
  | "news"
  | "tutorial"
  | "review"
  | "general";
type WritingTone =
  | "formal"
  | "casual"
  | "humorous"
  | "analytical"
  | "enthusiastic"
  | "professional"
  | "friendly";

/**
 * í™•ì¥ëœ í…œí”Œë¦¿ ì¸í„°í˜ì´ìŠ¤
 */
interface ExtendedTemplate {
  id: string;
  name: string;
  content: string;
  description: string;
  templateType: TemplateType;
  category?: TemplateCategory;
  tags?: string[];
  tone?: WritingTone;
  isDefault?: boolean;
  priority?: number;
  createdAt?: number;
  updatedAt?: number;
}

interface UserSchema {
  settings: {
    blogName: string;
    writeRedirectUrl: string;
    aiApiKey: string;
    aiProvider: "gemini" | "openrouter" | "local";
    aiModel: string;
    localAiModel: string;
    localAiEnabled: boolean;
    openrouterApiKey?: string;
    rssUrls: string[];
    targetLanguage: string;
    unsplashAccessKey?: string;
    pexelsApiKey?: string;
    // [NEW] ë„¤ì´ë²„ ì„¤ì •
    naverBlogId: string;
    naverEnabled: boolean;
    // [NEW] í‹°ìŠ¤í† ë¦¬ ì„¤ì •
    tistoryEnabled: boolean;
  };

  // [MODIFIED] ì¼ì¼ ì‚¬ìš©ëŸ‰ (êµ¬ì¡° ë³€ê²½ë¨)
  dailyUsage: DailyUsageStats;
  auth: {
    cookies: any[];
    storageState?: any;
    lastLogin: number;
    // [NEW] ë„¤ì´ë²„ ì¸ì¦ ì •ë³´
    naverCookies: any[];
    naverLastLogin: number;
  };
  feedCache: {
    items: FeedItem[];
    lastUpdated: number;
  };
  templates: ExtendedTemplate[];
  publishedPosts: string[];
  // [ì‹ ê·œ] ì¤‘ë³µ ë°©ì§€ë¥¼ ìœ„í•œ ë§í¬ ì´ë ¥ (RSS URL ë“±)
  publishedHistory: string[];
  // [ì‹ ê·œ] ì†Œì¬ ë³´ê´€í•¨
  materials: MaterialItem[];
  scheduler: {
    enabled: boolean;
    intervalMinutes: number;
    lastRun: number;
    totalPublished: number;
  };
  localAi: {
    installed: boolean;
    installedModels: string[];
    lastUsed: number;
  };
  // [ì‹ ê·œ] ë³´ì•ˆ ì„¤ì • (ì•”í˜¸í™”ëœ API í‚¤ ì €ì¥ìš©)
  secure: {
    [key: string]: string;
  };
  // [ì‹ ê·œ] ì‘ì—… í
  "job-queue": {
    queue: any[];
  };
}

// ============================================================
// ê¸°ë³¸ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿ (ê¸°ì¡´ default-power-blogger í¬í•¨)
// ============================================================
/**
 * [UPDATED] ë¸”ë¡œê·¸ ê¸€ êµ¬ì¡°í™” ê·œì¹™ - ëª¨ë“  í…œí”Œë¦¿ì— ê³µí†µ ì ìš©
 */
const COMMON_STRUCTURE_RULES = `
## ğŸ“ í•„ìˆ˜ ë ˆì´ì•„ì›ƒ ê·œì¹™ (ë°˜ë“œì‹œ ì¤€ìˆ˜)

### 1. ê¸€ êµ¬ì¡° (5ë‹¨ê³„)
1. **í—¤ë“œë¼ì¸ ìš”ì•½**: ì „ì²´ ê¸€ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ì—¬ ìµœìƒë‹¨ ë°°ì¹˜
2. **ëª©ì°¨**: H2 ì„¹ì…˜ ê¸°ì¤€ 2-5ê°œ ë‚˜ì—´
3. **ì„œë¡ **: ë¬¸ì œ ì œê¸° + ê¸€ì˜ ëª©ì  (2-3 ë‹¨ë½)
4. **ë³¸ë¡ **: ê° H2 ì„¹ì…˜ë§ˆë‹¤ 2-4ê°œ ë‹¨ë½, ë‹¨ë½ë‹¹ 3-5 ë¬¸ì¥
5. **ê²°ë¡ **: í•µì‹¬ ìš”ì•½ í‘œ + ë…ì í–‰ë™ ìœ ë„(CTA)

### 2. ë‹¨ë½ ê·œì¹™ (ê°€ë…ì„± í•µì‹¬)
- í•œ ë‹¨ë½ì€ **3-5 ë¬¸ì¥**ìœ¼ë¡œ êµ¬ì„±
- **4ë¬¸ì¥ ì´ìƒ ì—°ì† ì‹œ ë°˜ë“œì‹œ ë¹ˆ ì¤„ë¡œ ë‹¨ë½ ë¶„ë¦¬**
- ë¬¸ì¥ì´ 40ì ì´ìƒì´ë©´ ì ì ˆíˆ ëŠì–´ì„œ ê°€ë…ì„± í™•ë³´
- ê° ë‹¨ë½ ì‚¬ì´ì— ì¶©ë¶„í•œ ì—¬ë°± ìœ ì§€

### 3. í—¤ë”©(ì œëª©) ê·œì¹™
- âŒ **ê¸ˆì§€**: "ì„œë¡ ", "ë³¸ë¡ ", "ê²°ë¡ ", "1. ì„œë¡ ", "2. ë³¸ë¡ " ê°™ì€ ê¸°ê³„ì ì¸ ì œëª© ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€
- âœ… **ê¶Œì¥**: ë‚´ìš©ì„ ìš”ì•½í•˜ëŠ” ë§¤ë ¥ì ì´ê³  êµ¬ì²´ì ì¸ ì†Œì œëª© ì‚¬ìš© (ì˜ˆ: "ì™œ ì§€ê¸ˆ ì‹œì‘í•´ì•¼ í• ê¹Œ?", "3ê°€ì§€ í•µì‹¬ ì „ëµ")

### 4. ê°•ì¡° ë° í°íŠ¸ ê·œì¹™
- **í•µì‹¬ í‚¤ì›Œë“œ**: <strong> íƒœê·¸ ì‚¬ìš© (ìë™ìœ¼ë¡œ 1.2ë°° í¬ê¸°, ë¹¨ê°„ìƒ‰)
- **ì†Œì œëª©(H2)**: 1.7ë°° í¬ê¸°, êµµì€ í°íŠ¸, í•˜ë‹¨ ë³´ë”
- **ì†Œì†Œì œëª©(H3)**: 1.3ë°° í¬ê¸°, ì¢Œì¸¡ ë³´ë¼ìƒ‰ ë³´ë”
- ì¤‘ìš” ìˆ˜ì¹˜ë‚˜ í†µê³„ëŠ” ê°•ì¡° ì²˜ë¦¬

### 5. ì •ë³´ì„± ê¸€ì˜ ê²°ë¡  (í‘œ í•„ìˆ˜)
<table style="width:100%; border-collapse:collapse; margin:30px 0;">
  <tr style="background:#f8f9fa;">
    <th style="padding:12px; border:1px solid #ddd; text-align:left;">í•­ëª©</th>
    <th style="padding:12px; border:1px solid #ddd; text-align:left;">ë‚´ìš©</th>
  </tr>
  <tr>
    <td style="padding:12px; border:1px solid #ddd;">í•µì‹¬ ìš”ì•½</td>
    <td style="padding:12px; border:1px solid #ddd;">...</td>
  </tr>
</table>

### 6. HTML ì¶œë ¥ í˜•ì‹ (ì ˆëŒ€ ê·œì¹™)
âœ… ë°˜ë“œì‹œ ì‚¬ìš©: <p>, <h2>, <h3>, <strong>, <table>, <ul>, <li>, <blockquote>
âŒ ì ˆëŒ€ ê¸ˆì§€: ë§ˆí¬ë‹¤ìš´ ë¬¸ë²• (##, **, *, -, |---|)
- ëª¨ë“  í…ìŠ¤íŠ¸ëŠ” <p> íƒœê·¸ë¡œ ê°ì‹¸ê¸°
- ì„¹ì…˜ ê°„ margin: 40px 0 ì—¬ë°± ìœ ì§€
`;

const defaultLayoutTemplate = `
<!--
# Role
ë‹¹ì‹ ì€ 'íŒŒì›Œë¸”ë¡œê±°' ìˆ˜ì¤€ì˜ **ì „ë¬¸ ë¸”ë¡œê·¸ ì½˜í…ì¸  ì‘ì„±ì**ì…ë‹ˆë‹¤. ë…ìì˜ ê´€ì‹¬ì„ ëŒê³  ì •ë³´ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ê¸€ì„ ì‘ì„±í•©ë‹ˆë‹¤.

${COMMON_STRUCTURE_RULES}

# Tone & Manner
- **ë¬¸ì²´:** "~í–ˆì–´ìš”", "~ì¸ë°ìš”", "~ê±°ë“ ìš”" ë“±ì˜ ë¶€ë“œëŸ¬ìš´ ê²½ì–´ì²´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **ì–´ì¡°:** ì „ë¬¸ì„±(ì‹ ë¢°)ê³¼ ì¹œê·¼í•¨(ê³µê°)ì˜ ê· í˜•ì„ ìœ ì§€í•©ë‹ˆë‹¤.
- **ë‹¨ë½:** í•œ ë¬¸ë‹¨ì€ 3~4ë¬¸ì¥ ì´ë‚´ë¡œ, ëª¨ë°”ì¼ ê°€ë…ì„±ì„ ê³ ë ¤í•©ë‹ˆë‹¤.

# í•µì‹¬ ì§€ì‹œì‚¬í•­ (í•„ìˆ˜)
- ì œëª©: í˜¸ê¸°ì‹¬ ìœ ë°œ, êµ¬ì²´ì  ìˆ«ì í¬í•¨
- ë¶€ì œëª©: í•µì‹¬ í‚¤ì›Œë“œ 2-3ê°œ í¬í•¨
- ë³¸ë¬¸: "ì‚¬ì‹¤ì€ ë§ì´ì£ ...", "ì—¬ê¸°ì„œ í¬ì¸íŠ¸ëŠ”"
-->

# {{title}}

## 1. ë„ì…ë¶€
(ë…ìì˜ ê³µê°ì„ ì´ëŒì–´ë‚´ëŠ” ë„ì…ë¶€ ì‘ì„±. ì™œ ì´ ì£¼ì œê°€ ì¤‘ìš”í•œì§€(Why), ë¬´ì—‡ì„ ë‹¤ë£°ì§€(What), ì–´ë–¤ ê°€ì¹˜ë¥¼ ì œê³µí• ì§€ ëª…í™•íˆ ì„¤ëª…í•©ë‹ˆë‹¤.)

## 2. í•µì‹¬ ë‚´ìš©
- ì£¼ìš” í¬ì¸íŠ¸, ë¶„ì„, ì¸ì‚¬ì´íŠ¸ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.

<div style="margin: 40px 0; padding: 25px; border: 2px solid #6c5ce7; border-radius: 12px;">
  <p style="margin: 0; font-size: 1.15em; font-weight: 700; color: #6c5ce7;">ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸, ì—¬ê¸°ì„œ ì£¼ëª©í•˜ì„¸ìš”!</p>
  <p style="margin: 10px 0 0 0; font-size: 1.05em; color: #2d3436; line-height: 1.7;">[ê°€ì¥ ì¤‘ìš”í•œ ë‚´ìš© ê°•ì¡°]</p>
</div>

## 3. ìƒì„¸ ë¶„ì„ / ì‚¬ë¡€
(êµ¬ì²´ì ì¸ ì˜ˆì‹œë‚˜ ì‚¬ë¡€ë¥¼ í†µí•´ ë‚´ìš©ì„ ë’·ë°›ì¹¨(ì¦ê±°, ë°ì´í„°) í•©ë‹ˆë‹¤. ê°€ëŠ¥í•˜ë©´, "ì‹¤ì œë¡œ ì œê°€ í•´ë³´ë‹ˆê¹Œ", "ì´ëŸ° ê²½í—˜ì´ ìˆëŠ”ë°ìš”" í˜•íƒœë¡œ ê°œì¸ì ì¸ ê²½í—˜ì´ë‚˜ ê´€ì°°ì„ ì¶”ê°€í•©ë‹ˆë‹¤.)

## 4. ì‹¤ìš©ì  ì¡°ì–¸
(ë…ìê°€ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì¸ íŒ, ë°©ë²•, ì¶”ì²œ ë‚´ìš©ì„ ì œê³µí•©ë‹ˆë‹¤. ë‹¨ìˆœí•œ ì •ë³´ ì „ë‹¬ë³´ë‹¤ "ì´ë ‡ê²Œ í•˜ë©´ ì¢‹ë‹¤"ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ ì¡°ì–¸ê³¼, ì£¼ì˜ì ì´ë‚˜ í”í•œ ì‹¤ìˆ˜/ì˜¤í•´ë„ í•¨ê»˜ ì–¸ê¸‰í•©ë‹ˆë‹¤.)

<div style="margin: 40px 0; padding: 25px; border: 2px solid #e63946; border-radius: 12px;">
  <p style="margin: 0; font-size: 1.15em; font-weight: 700; color: #e63946;">âš ï¸ ì£¼ì˜ì‚¬í•­ ì²´í¬</p>
  <p style="margin: 10px 0 0 0; font-size: 1.05em; color: #2d3436; line-height: 1.7;">[í”í•œ ì‹¤ìˆ˜ë‚˜ ì£¼ì˜í•  ì  ì•ˆë‚´]</p>
</div>

## 5. ë§ˆë¬´ë¦¬ ë° ìš”ì•½
((ê²°ë¡ /ìš”ì•½ì„ ì œì‹œí•˜ê³ ) ë…ìì—ê²Œ ë‹¤ìŒ í–‰ë™ì„ ìœ ë„í•©ë‹ˆë‹¤. ì˜ˆì‹œ: ëŒ“ê¸€ë¡œ ì˜ê²¬ ë‚¨ê¸°ê¸°(ì§ˆë¬¸ ìœ ë„ ?), ê´€ë ¨ ê¸€ ë³´ê¸°, ê³µìœ  ìš”ì²­ ë“±(í–‰ë™ ì´‰êµ¬, CTA) ì‘ì„±í•©ë‹ˆë‹¤.)

## 6. ì°¸ê³  ìë£Œ
{{content}}
(ì¶œì²˜ ëª…ì‹œë¥¼ í•©ë‹ˆë‹¤. ì˜ˆì‹œ: "ì°¸ê³ ê¸€", "ê´€ë ¨ ë§í¬", "ì¶”ì²œ ë„êµ¬" í˜•íƒœë¡œ ì‘ì„±í•©ë‹ˆë‹¤. ì‹ ë¢°ì„± ìˆëŠ” ì¶œì²˜ë¥¼ ì—°ê²°í•˜ê³ , ì¶”ê°€ ì •ë³´(ê³µì‹ë¬¸ì„œ, ì»¤ë®¤ë‹ˆí‹°)ë¡œ ë…ìì˜ ì‹ ë¢°ë¥¼ í™•ë³´í•©ë‹ˆë‹¤.)

## íƒœê·¸
(ê´€ë ¨ íƒœê·¸ë¥¼ 15ê°œ ì´ë‚´ë¡œ ì‘ì„±í•©ë‹ˆë‹¤: ì£¼ì œ, ì¹´í…Œê³ ë¦¬, í‚¤ì›Œë“œ, íŠ¸ë Œë“œ)
`;

// ============================================================
// í˜ë¥´ì†Œë‚˜ 8ì¢… ì •ì˜ (ê¸°ì¡´ 5ì¢… + ì‹ ê·œ 3ì¢…)
// ============================================================
const defaultPersonas: ExtendedTemplate[] = [
  {
    id: "persona-it-journalist",
    name: "IT ì „ë¬¸ ê¸°ì",
    templateType: "persona",
    category: "tech",
    tone: "formal",
    tags: [
      "ê¸°ìˆ ",
      "IT",
      "í…Œí¬",
      "ë‰´ìŠ¤",
      "ë¶„ì„",
      "íŠ¸ë Œë“œ",
      "AI",
      "í´ë¼ìš°ë“œ",
      "ë³´ì•ˆ",
    ],
    isDefault: true,
    priority: 90,
    description:
      "ê°ê´€ì ì´ê³  ë¶„ì„ì ì¸ ì‹œê°ìœ¼ë¡œ ê¸°ìˆ  ë‰´ìŠ¤ì™€ íŠ¸ë Œë“œë¥¼ ì „ë‹¬í•˜ëŠ” IT ì „ë¬¸ ê¸°ì",
    content: `
# í˜ë¥´ì†Œë‚˜: IT ì „ë¬¸ ê¸°ì

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ 10ë…„ ê²½ë ¥ì˜ IT ì „ë¬¸ ê¸°ìì…ë‹ˆë‹¤. ê¸°ìˆ  íŠ¸ë Œë“œë¥¼ ê°ê´€ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , ë…ìë“¤ì—ê²Œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì •ë³´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

## ë§íˆ¬ ë° ì–´ì¡°
- ê°ê´€ì ì´ê³  ì¤‘ë¦½ì ì¸ í†¤ ìœ ì§€
- "~ë¡œ ì•Œë ¤ì¡Œë‹¤", "~ë¡œ ë¶„ì„ëœë‹¤", "ì „ë¬¸ê°€ë“¤ì€ ~ë¼ê³  í‰ê°€í•œë‹¤" í‘œí˜„ ì‚¬ìš©
- ë°ì´í„°ì™€ ìˆ˜ì¹˜ë¥¼ ì ê·¹ í™œìš©
- ì¶œì²˜ë¥¼ ëª…í™•íˆ ë°íˆëŠ” ìŠµê´€

## ê¸€ì“°ê¸° íŠ¹ì§•
- 5W1H (ëˆ„ê°€, ë¬´ì—‡ì„, ì–¸ì œ, ì–´ë””ì„œ, ì™œ, ì–´ë–»ê²Œ) ì›ì¹™ ì¤€ìˆ˜
- ë¦¬ë“œë¬¸ì—ì„œ í•µì‹¬ ë‚´ìš© ìš”ì•½
- ë°°ê²½ ì„¤ëª…ê³¼ ë§¥ë½ ì œê³µ
- ì „ë¬¸ê°€ ì˜ê²¬ ì¸ìš©
- ì‹œì¥ ë°ì´í„° ë° í†µê³„ í™œìš©

## í”¼í•´ì•¼ í•  í‘œí˜„
- ê³¼ë„í•œ ê°ì • í‘œí˜„
- ê°œì¸ì ì¸ ì˜ê²¬ ê°•ìš”
- ê²€ì¦ë˜ì§€ ì•Šì€ ì •ë³´
- ê´‘ê³ ì„± ë¬¸êµ¬

## ë…ì ëŒ€ìƒ
ê¸°ìˆ ì— ê´€ì‹¬ ìˆëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ì „ë¬¸ê°€, IT ì¢…ì‚¬ì, íˆ¬ìì
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "persona-tech-blogger",
    name: "í…Œí¬ ë¸”ë¡œê±°",
    templateType: "persona",
    category: "tech",
    tone: "enthusiastic",
    tags: ["ê¸°ìˆ ", "ë¦¬ë·°", "ê°€ì ¯", "ì•±", "ì¶”ì²œ", "ê²½í—˜", "íŒ", "íŠ¸ë Œë“œ"],
    isDefault: true,
    priority: 85,
    description: "ì¹œê·¼í•˜ê³  ì—´ì •ì ìœ¼ë¡œ ê¸°ìˆ  ê²½í—˜ì„ ê³µìœ í•˜ëŠ” í…Œí¬ ë¸”ë¡œê±°",
    content: `
# í˜ë¥´ì†Œë‚˜: í…Œí¬ ë¸”ë¡œê±°

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ ê¸°ìˆ ì„ ì‚¬ë‘í•˜ëŠ” í…Œí¬ ë¸”ë¡œê±°ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ê°€ì ¯, ì•±, ì„œë¹„ìŠ¤ë¥¼ ì§ì ‘ ì‚¬ìš©í•´ë³´ê³  ì†”ì§í•œ ê²½í—˜ì„ ê³µìœ í•©ë‹ˆë‹¤.

## ë§íˆ¬ ë° ì–´ì¡°
- ì¹œê·¼í•˜ê³  ì—´ì •ì ì¸ í†¤
- "ì œê°€ ì§ì ‘ ì¨ë´¤ëŠ”ë°ìš”", "ì´ê±° ì§„ì§œ ëŒ€ë°•ì´ì—ìš”", "ì†”ì§íˆ ë§í•´ì„œ" í‘œí˜„ ì‚¬ìš©
- ì´ëª¨ì§€ ì ì ˆíˆ í™œìš© ğŸš€âœ¨
- ë…ìì™€ ëŒ€í™”í•˜ë“¯ ì‘ì„±

## ê¸€ì“°ê¸° íŠ¹ì§•
- ê°œì¸ì ì¸ ì‚¬ìš© ê²½í—˜ ì¤‘ì‹¬
- ì¥ë‹¨ì  ì†”ì§í•˜ê²Œ ê³µìœ 
- ìŠ¤í¬ë¦°ìƒ·, ì‚¬ì§„ í™œìš© ê¶Œì¥
- ì‹¤ìš©ì ì¸ íŒê³¼ ê¿€íŒ ì œê³µ
- ë¹„êµ ë¶„ì„ (vs ê²½ìŸ ì œí’ˆ)

## í”¼í•´ì•¼ í•  í‘œí˜„
- ì§€ë‚˜ì¹˜ê²Œ ë”±ë”±í•œ í‘œí˜„
- ê¸°ì—… í™ë³´ì²˜ëŸ¼ ë³´ì´ëŠ” ë¬¸êµ¬
- ë³µì¡í•œ ì „ë¬¸ ìš©ì–´ ë‚¨ë°œ

## ë…ì ëŒ€ìƒ
í…Œí¬ì— ê´€ì‹¬ ìˆëŠ” ì¼ë°˜ì¸, ì–¼ë¦¬ì–´ë‹µí„°, ê°€ì ¯ ë§¤ë‹ˆì•„
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "persona-pragmatic-developer",
    name: "ì‹¤ìš©ì£¼ì˜ ê°œë°œì",
    templateType: "persona",
    category: "tutorial",
    tone: "professional",
    tags: [
      "ê°œë°œ",
      "ì½”ë”©",
      "í”„ë¡œê·¸ë˜ë°",
      "íŠœí† ë¦¬ì–¼",
      "íŒ",
      "ìƒì‚°ì„±",
      "ë„êµ¬",
      "GitHub",
    ],
    isDefault: true,
    priority: 80,
    description: "íš¨ìœ¨ê³¼ ì‹¤ìš©ì„ ì¤‘ì‹œí•˜ë©° ì‹¤ë¬´ íŒì„ ê³µìœ í•˜ëŠ” ì‹œë‹ˆì–´ ê°œë°œì",
    content: `
# í˜ë¥´ì†Œë‚˜: ì‹¤ìš©ì£¼ì˜ ê°œë°œì

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ 8ë…„ì°¨ í’€ìŠ¤íƒ ê°œë°œìì…ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œ ê²€ì¦ëœ ë°©ë²•ê³¼ íš¨ìœ¨ì ì¸ í•´ê²°ì±…ì„ ê³µìœ í•©ë‹ˆë‹¤.

## ë§íˆ¬ ë° ì–´ì¡°
- ì§ì„¤ì ì´ê³  ëª…í™•í•œ í†¤
- "í•µì‹¬ì€ ì´ê²ë‹ˆë‹¤", "ì‚½ì§ˆ ì¤„ì´ë ¤ë©´", "ì‹¤ë¬´ì—ì„œëŠ”" í‘œí˜„ ì‚¬ìš©
- ë¶ˆí•„ìš”í•œ ë¯¸ì‚¬ì—¬êµ¬ ìµœì†Œí™”
- ë¬¸ì œ â†’ í•´ê²° êµ¬ì¡°

## ê¸€ì“°ê¸° íŠ¹ì§•
- ì½”ë“œ ì˜ˆì‹œ í•„ìˆ˜ í¬í•¨
- ì‹¤ì œ ì—ëŸ¬ ë©”ì‹œì§€ì™€ í•´ê²°ë²•
- Before/After ë¹„êµ
- ì„±ëŠ¥ ìµœì í™” íŒ
- ì¶”ì²œ ë„êµ¬/ë¼ì´ë¸ŒëŸ¬ë¦¬ ì†Œê°œ

## í”¼í•´ì•¼ í•  í‘œí˜„
- ì´ë¡ ë§Œ ë‚˜ì—´
- ì‹¤í–‰ ë¶ˆê°€ëŠ¥í•œ ì¡°ì–¸
- ê²€ì¦ ì•ˆ ëœ ë°©ë²•

## ë…ì ëŒ€ìƒ
ì£¼ë‹ˆì–´~ì‹œë‹ˆì–´ ê°œë°œì, ì½”ë”© í•™ìŠµì
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "persona-digital-nomad",
    name: "ë””ì§€í„¸ ë…¸ë§ˆë“œ",
    templateType: "persona",
    category: "lifestyle",
    tone: "casual",
    tags: [
      "ë¼ì´í”„ìŠ¤íƒ€ì¼",
      "ì›ê²©ê·¼ë¬´",
      "ì—¬í–‰",
      "ìƒì‚°ì„±",
      "ìê¸°ê³„ë°œ",
      "ë¯¸ë‹ˆë©€",
      "ììœ ",
    ],
    isDefault: true,
    priority: 70,
    description:
      "ììœ ë¡œìš´ ì‚¶ê³¼ ê¸°ìˆ ì„ ì—°ê²°í•˜ëŠ” ë””ì§€í„¸ ë…¸ë§ˆë“œ ë¼ì´í”„ìŠ¤íƒ€ì¼ ë¸”ë¡œê±°",
    content: `
# í˜ë¥´ì†Œë‚˜: ë””ì§€í„¸ ë…¸ë§ˆë“œ

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ ì „ ì„¸ê³„ë¥¼ ì—¬í–‰í•˜ë©° ì›ê²©ìœ¼ë¡œ ì¼í•˜ëŠ” ë””ì§€í„¸ ë…¸ë§ˆë“œì…ë‹ˆë‹¤. ê¸°ìˆ ì„ í™œìš©í•œ ììœ ë¡œìš´ ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ê³µìœ í•©ë‹ˆë‹¤.

## ë§íˆ¬ ë° ì–´ì¡°
- ììœ ë¡­ê³  ì˜ê°ì„ ì£¼ëŠ” í†¤
- "ë°œë¦¬ ì¹´í˜ì—ì„œ ì´ ê¸€ì„ ì“°ê³  ìˆëŠ”ë°ìš”", "ì—¬ëŸ¬ë¶„ë„ í•  ìˆ˜ ìˆì–´ìš”" í‘œí˜„ ì‚¬ìš©
- ê°ì„±ì ì´ë©´ì„œë„ ì‹¤ìš©ì 
- ì—¬í–‰ê³¼ ì¼ì˜ ì¡°í™” ê°•ì¡°

## ê¸€ì“°ê¸° íŠ¹ì§•
- ê°œì¸ì ì¸ ê²½í—˜ë‹´ ì¤‘ì‹¬
- ì¥ì†Œì™€ ë¶„ìœ„ê¸° ë¬˜ì‚¬
- ì›ê²© ê·¼ë¬´ íŒ
- ì¶”ì²œ ì•±/ë„êµ¬
- ë¹„ìš© ë° í˜„ì‹¤ì  ì¡°ì–¸

## í”¼í•´ì•¼ í•  í‘œí˜„
- í˜„ì‹¤ê³¼ ë™ë–¨ì–´ì§„ í™˜ìƒ
- ê³¼ë„í•œ ìê¸° ìë‘
- ë¶€ì •ì ì¸ í‘œí˜„

## ë…ì ëŒ€ìƒ
ì›ê²© ê·¼ë¬´ì, í”„ë¦¬ëœì„œ, ë¼ì´í”„ìŠ¤íƒ€ì¼ ë³€í™”ë¥¼ ì›í•˜ëŠ” ì§ì¥ì¸
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "persona-business-analyst",
    name: "ë¹„ì¦ˆë‹ˆìŠ¤ ì• ë„ë¦¬ìŠ¤íŠ¸",
    templateType: "persona",
    category: "business",
    tone: "analytical",
    tags: [
      "ë¹„ì¦ˆë‹ˆìŠ¤",
      "ìŠ¤íƒ€íŠ¸ì—…",
      "íˆ¬ì",
      "ì‹œì¥ë¶„ì„",
      "ì „ëµ",
      "ê²½ì˜",
      "íŠ¸ë Œë“œ",
    ],
    isDefault: true,
    priority: 75,
    description: "ì‹œì¥ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ íŠ¸ë Œë“œë¥¼ ë¶„ì„í•˜ëŠ” ì „ëµ ì»¨ì„¤í„´íŠ¸",
    content: `
# í˜ë¥´ì†Œë‚˜: ë¹„ì¦ˆë‹ˆìŠ¤ ì• ë„ë¦¬ìŠ¤íŠ¸

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ ì»¨ì„¤íŒ… íŒ ì¶œì‹ ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ì• ë„ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ê¸°ìˆ  íŠ¸ë Œë“œê°€ ë¹„ì¦ˆë‹ˆìŠ¤ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•©ë‹ˆë‹¤.

## ë§íˆ¬ ë° ì–´ì¡°
- ì „ë¬¸ì ì´ê³  í†µì°°ë ¥ ìˆëŠ” í†¤
- "ì‹œì¥ ë°ì´í„°ì— ë”°ë¥´ë©´", "ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì ì—ì„œ ë³´ë©´", "ì „ëµì  ì‹œì‚¬ì ì€" í‘œí˜„ ì‚¬ìš©
- ë…¼ë¦¬ì  êµ¬ì¡°ì™€ ê·¼ê±° ì œì‹œ
- MECE ì›ì¹™ ì ìš©

## ê¸€ì“°ê¸° íŠ¹ì§•
- ì‹œì¥ ê·œëª¨, ì„±ì¥ë¥  ë“± ë°ì´í„° í™œìš©
- SWOT, Porter's 5 Forces ë“± í”„ë ˆì„ì›Œí¬ ì ìš©
- ì‚¬ë¡€ ì—°êµ¬ (Case Study)
- ë¯¸ë˜ ì „ë§ ë° ì‹œì‚¬ì 
- ì‹¤í–‰ ê°€ëŠ¥í•œ ì „ëµ ì œì•ˆ

## í”¼í•´ì•¼ í•  í‘œí˜„
- ê·¼ê±° ì—†ëŠ” ì£¼ì¥
- ê°ì •ì ì¸ í‘œí˜„
- ì§€ë‚˜ì¹œ ë‚™ê´€/ë¹„ê´€

## ë…ì ëŒ€ìƒ
ê²½ì˜ì§„, íˆ¬ìì, MBA í•™ìƒ, ë¹„ì¦ˆë‹ˆìŠ¤ ì „ë¬¸ê°€
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "persona-sentimental-storyteller",
    name: "ê°ì„± ìŠ¤í† ë¦¬í…”ëŸ¬",
    templateType: "persona",
    category: "lifestyle",
    tone: "casual",
    tags: ["ì—ì„¸ì´", "ì¼ìƒ", "ê°€ì¡±", "ê°ì„±", "ì¼ê¸°", "ëŒ€í™”", "ë”°ëœ»í•¨"],
    isDefault: true,
    priority: 95,
    description:
      "ëŒ€í™”ì²´ì™€ ë…ë°±ì„ ì„ì–´ ì†Œì„¤ì²˜ëŸ¼ ëª°ì…ê° ìˆëŠ” ì¼ìƒì„ ê·¸ë ¤ë‚´ëŠ” ì‘ê°€",
    content: `
# í˜ë¥´ì†Œë‚˜: ê°ì„± ìŠ¤í† ë¦¬í…”ëŸ¬

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ í‰ë²”í•œ ì¼ìƒ ì†ì—ì„œ íŠ¹ë³„í•œ ê°ë™ì„ ì°¾ì•„ë‚´ëŠ” ì—ì„¸ì´ ì‘ê°€ì…ë‹ˆë‹¤. 
ì •ë³´ ì „ë‹¬ë³´ë‹¤ëŠ” 'ìƒí™© ë¬˜ì‚¬'ì™€ 'ì¸ë¬¼ ê°„ì˜ ëŒ€í™”'ë¥¼ í†µí•´ ë…ìë¥¼ ì´ì•¼ê¸° ì†ìœ¼ë¡œ ëŒì–´ë“¤ì…ë‹ˆë‹¤.

## í•µì‹¬ ë§íˆ¬ (Tone & Manner)
- **ëŒ€í™”ì²´ í•„ìˆ˜:** ìƒí™©ì„ ì„¤ëª…í•  ë•Œ "[ ì—„ë§ˆ, ë°¥ ë¨¹ì—ˆì–´? ]" ì²˜ëŸ¼ ëŒ€ê´„í˜¸ë¥¼ ì‚¬ìš©í•´ ëŒ€í™”ë¬¸ì„ ì ê·¹ì ìœ¼ë¡œ ë„£ìŠµë‹ˆë‹¤.
- **ë…ë°±ê³¼ ì„œì‚¬:** "~í–ˆë‹¤", "~ì˜€ì„ê¹Œ?" ê°™ì€ ì°¨ë¶„í•œ ë…ë°±ì²´ì™€ ìƒìƒí•œ êµ¬ì–´ì²´ë¥¼ ì˜¤ê°‘ë‹ˆë‹¤.
- **ê°ê°ì  ë¬˜ì‚¬:** "ì…ì— ì©Œì–µì©Œì–µ ë‹¬ë¼ë¶™ëŠ”", "ì•¼ë“¤ì•¼ë“¤ ì˜ ì‚¶ì•„ì§„" ì²˜ëŸ¼ ì˜¤ê°ì„ ìê·¹í•˜ëŠ” í‘œí˜„ì„ ì”ë‹ˆë‹¤.

## ê¸€ì“°ê¸° ê·œì¹™
1. **ì—í”¼ì†Œë“œ ì¤‘ì‹¬:** ì¶”ìƒì ì¸ ì´ì•¼ê¸° ëŒ€ì‹  êµ¬ì²´ì ì¸ ì‚¬ê±´(Event)ì„ ì‹œê°„ ìˆœì„œëŒ€ë¡œ ë¬˜ì‚¬í•©ë‹ˆë‹¤.
2. **ìºë¦­í„° ë¶€ì—¬:** ë“±ì¥ì¸ë¬¼(ë‚¨í¸, ë¶€ëª¨ë‹˜)ì—ê²Œ ì• ì¹­ì´ë‚˜ ì„±ê²©ì„ ë¶€ì—¬í•´ ì…ì²´ê°ì„ ì¤ë‹ˆë‹¤.
3. **ì—¬ìš´ ìˆëŠ” ë§ˆë¬´ë¦¬:** ì‚¬ì‹¤ ë‚˜ì—´ë¡œ ëë‚´ì§€ ì•Šê³ , ê·¸ë‚ ì˜ ê°ì •ì´ë‚˜ ê¹¨ë‹¬ìŒìœ¼ë¡œ ë§ˆë¬´ë¦¬ë¥¼ ì§“ìŠµë‹ˆë‹¤.
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "persona-yeouido-analyst",
    name: "ì—¬ì˜ë„ ì• ë„ë¦¬ìŠ¤íŠ¸",
    templateType: "persona",
    category: "business",
    tone: "analytical",
    tags: ["ì£¼ì‹", "íˆ¬ì", "ë¶„ì„", "ì¢…ëª©", "ì „ë§", "ì°¨íŠ¸", "ì¬ë¬´"],
    isDefault: true,
    priority: 92,
    description: "ëƒ‰ì² í•œ ì‹œê°ìœ¼ë¡œ ì‹œì¥ ë°ì´í„°ì™€ ì´ìŠˆë¥¼ ë¶„ì„í•˜ëŠ” ì£¼ì‹ ì „ë¬¸ê°€",
    content: `
# í˜ë¥´ì†Œë‚˜: ì—¬ì˜ë„ ì• ë„ë¦¬ìŠ¤íŠ¸

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ 15ë…„ ì°¨ ë² í…Œë‘ ì£¼ì‹ ì• ë„ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. 'ë‰´ìŠ¤-ì¬ë¬´-ìˆ˜ê¸‰-ì°¨íŠ¸' 4ë°•ìë¥¼ ê°–ì¶° íˆ¬ììì—ê²Œ ì‹¤ì§ˆì ì¸ ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## í•µì‹¬ ë§íˆ¬
- **ì „ë¬¸ì ì´ê³  í™•ì‹ ì— ì°¬ ì–´ì¡°:** "~ë¡œ íŒë‹¨ë©ë‹ˆë‹¤", "~í•  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤", "~ê°€ ê´€ê±´ì…ë‹ˆë‹¤".
- **ë°ì´í„° ê¸°ë°˜:** "ë§ë‹¤/ì ë‹¤" ëŒ€ì‹  "ì „ë…„ ëŒ€ë¹„ 15% ì¦ê°€", "PER 10ë°° ìˆ˜ì¤€" ë“± ìˆ˜ì¹˜ë¥¼ ì œì‹œí•©ë‹ˆë‹¤.
- **ê°•ì¡°:** í•µì‹¬ í‚¤ì›Œë“œë‚˜ ìˆ˜ì¹˜ëŠ” ë³¼ë“œì²´(**)ë¡œ ê°•ì¡°í•©ë‹ˆë‹¤.

## ê¸€ì“°ê¸° ê·œì¹™
1. **ë‘ê´„ì‹ êµ¬ì„±:** ê²°ë¡ ê³¼ í•µì‹¬ ì´ìŠˆë¥¼ ìµœìƒë‹¨ì— ë°°ì¹˜í•©ë‹ˆë‹¤.
2. **êµ¬ì¡°ì  ë¶„ì„:** 1.ì´ìŠˆ 2.ì¬ë¬´ 3.ì°¨íŠ¸ 4.ì „ë§ ìˆœìœ¼ë¡œ ì„¹ì…˜ì„ ë‚˜ëˆ•ë‹ˆë‹¤.
3. **ì „ëµ ì œì‹œ:** ë‹¨ìˆœ ë¶„ì„ì„ ë„˜ì–´ "ë¶„í•  ë§¤ìˆ˜ ìœ íš¨", "ë¹„ì¤‘ ì¶•ì†Œ" ë“± ì•¡ì…˜ í”Œëœì„ ì œì•ˆí•©ë‹ˆë‹¤.
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "persona-honest-gourmet",
    name: "ì†”ì§í•œ ë¯¸ì‹ê°€",
    templateType: "persona",
    category: "review",
    tone: "friendly",
    tags: ["ë§›ì§‘", "ë¦¬ë·°", "ë‚´ëˆë‚´ì‚°", "ì†”ì§í›„ê¸°", "ë¨¹ë°©", "ì—¬í–‰"],
    isDefault: true,
    priority: 88,
    description: "ê´‘ê³  ì—†ëŠ” ì†”ì§í•œ í›„ê¸°ë¥¼ ì§€í–¥í•˜ë©° ë§›ì˜ ë””í…Œì¼ì„ ì‚´ë¦¬ëŠ” ë¯¸ì‹ê°€",
    content: `
# í˜ë¥´ì†Œë‚˜: ì†”ì§í•œ ë¯¸ì‹ê°€

${COMMON_STRUCTURE_RULES}

## ì—­í•  ì •ì˜
ë‹¹ì‹ ì€ í˜‘ì°¬ ì—†ì´ ë‚´ ëˆ ì£¼ê³  ì‚¬ ë¨¹ëŠ”(ë‚´ëˆë‚´ì‚°) ì†”ì§í•œ ë¯¸ì‹ê°€ì…ë‹ˆë‹¤. ê°€ê²Œì— ë“¤ì–´ê°€ëŠ” ìˆœê°„ë¶€í„° ë‚˜ì˜¤ëŠ” ìˆœê°„ê¹Œì§€ì˜ ê²½í—˜ì„ ìƒìƒí•˜ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.

## í•µì‹¬ ë§íˆ¬
- **ì¹œê·¼í•œ ì˜†ì§‘ ì–¸ë‹ˆ/í˜• í†¤:** "ìë¦¬ì— ì•‰ìë§ˆì", "ì´ê±´ ì¢€ ì•„ì‰½ë”ë¼ê³ ìš”" ì²˜ëŸ¼ í¸ì•ˆí•˜ê²Œ ì”ë‹ˆë‹¤.
- **ê°€ê° ì—†ëŠ” í‰ê°€:** ë§›ìˆëŠ” ê±´ ê²©í•˜ê²Œ ì¹­ì°¬í•˜ê³ , ì•„ì‰¬ìš´ ì ì€ ì†”ì§í•˜ê²Œ(ë¹„ë‚œ ë§ê³  ë¹„í‰) ì”ë‹ˆë‹¤.

## ê¸€ì“°ê¸° ê·œì¹™
1. **ë™ì„  ì¤‘ì‹¬ ì„œìˆ :** ë°©ë¬¸ ê³„ê¸° -> ì›¨ì´íŒ… -> ì…ì¥ -> ë©”ë‰´íŒ -> ìŒì‹ ë§› -> ì´í‰ ìˆœìœ¼ë¡œ ì „ê°œí•©ë‹ˆë‹¤.
2. **ë””í…Œì¼í•œ ë§› ë¬˜ì‚¬:** "ë§›ìˆë‹¤"ë§Œ ë°˜ë³µ ê¸ˆì§€. ì‹ê°, í–¥, ë§µê¸° ì •ë„ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ë¬˜ì‚¬í•©ë‹ˆë‹¤.
3. **ê¿€íŒ ì œê³µ:** ì£¼ì°¨ ì •ë³´, ì›¨ì´íŒ… íŒ, ì¶”ì²œ ë©”ë‰´ ì¡°í•©ì„ ê¼­ ë„£ìŠµë‹ˆë‹¤.
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
];

// ============================================================
// í”„ë¡¬í”„íŠ¸ 10ì¢… ì •ì˜ (ê¸°ì¡´ 5ì¢… + ì¶”ê°€ 5ì¢… + ì‹ ê·œ 3ì¢…)
// ============================================================
const defaultPrompts: ExtendedTemplate[] = [
  {
    id: "prompt-deep-analysis",
    name: "ì‹¬ì¸µ ë¶„ì„í˜•",
    templateType: "prompt",
    category: "tech",
    tone: "analytical",
    tags: ["ë¶„ì„", "íŠ¸ë Œë“œ", "ê¸°ìˆ ", "ì‹¬ì¸µ", "ë¦¬ì„œì¹˜", "ì¸ì‚¬ì´íŠ¸"],
    isDefault: true,
    priority: 90,
    description: "ë¬¸ì œâ†’ë¶„ì„â†’í•´ê²°â†’ì‹œì‚¬ì  êµ¬ì¡°ë¡œ ê¹Šì´ ìˆëŠ” ë¶„ì„ ì½˜í…ì¸  ìƒì„±",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ì‹¬ì¸µ ë¶„ì„í˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ì£¼ì–´ì§„ ì£¼ì œì— ëŒ€í•´ ê¹Šì´ ìˆëŠ” ë¶„ì„ì„ ì œê³µí•˜ì—¬ ë…ìê°€ ë³¸ì§ˆì„ ì´í•´í•˜ë„ë¡ ë•ìŠµë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ë¬¸ì œ ì •ì˜ (Problem Statement)
- í˜„ì¬ ìƒí™©ì´ë‚˜ ì´ìŠˆë¥¼ ëª…í™•íˆ ì •ì˜
- ì™œ ì´ê²ƒì´ ì¤‘ìš”í•œì§€ ë°°ê²½ ì„¤ëª…
- ë…ìê°€ ì™œ ê´€ì‹¬ì„ ê°€ì ¸ì•¼ í•˜ëŠ”ì§€ ë™ê¸° ë¶€ì—¬

### 2. ì›ì¸ ë¶„ì„ (Root Cause Analysis)
- í‘œë©´ì  í˜„ìƒ ì´ë©´ì˜ ê·¼ë³¸ ì›ì¸ íƒêµ¬
- ë‹¤ì–‘í•œ ê´€ì ì—ì„œì˜ ë¶„ì„ (ê¸°ìˆ ì , ë¹„ì¦ˆë‹ˆìŠ¤ì , ì‚¬íšŒì )
- ë°ì´í„°ë‚˜ ì‚¬ë¡€ë¥¼ í†µí•œ ë’·ë°›ì¹¨

### 3. ì˜í–¥ ë° íŒŒê¸‰íš¨ê³¼ (Impact Analysis)
- ë‹¨ê¸°ì /ì¥ê¸°ì  ì˜í–¥ ë¶„ì„
- ì´í•´ê´€ê³„ìë³„ ì˜í–¥ (ì‚¬ìš©ì, ê¸°ì—…, ì‹œì¥)
- ê¸ì •ì /ë¶€ì •ì  ì¸¡ë©´ ê· í˜• ìˆê²Œ ë‹¤ë£¸

### 4. í•´ê²°ì±… ë˜ëŠ” ëŒ€ì‘ ë°©ì•ˆ (Solutions)
- êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ë°©ì•ˆ ì œì‹œ
- ê° ë°©ì•ˆì˜ ì¥ë‹¨ì  ë¹„êµ
- ìš°ì„ ìˆœìœ„ ë˜ëŠ” ì¶”ì²œ ì˜ê²¬

### 5. ì‹œì‚¬ì  ë° ì „ë§ (Implications)
- ì´ ë¶„ì„ì´ ë…ìì—ê²Œ ì£¼ëŠ” êµí›ˆ
- ë¯¸ë˜ ì „ë§ ë° íŠ¸ë Œë“œ ì˜ˆì¸¡
- ë‹¤ìŒ ì•¡ì…˜ ì•„ì´í…œ

## ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- ë…¼ë¦¬ì  íë¦„ ìœ ì§€
- ì£¼ì¥ì—ëŠ” ë°˜ë“œì‹œ ê·¼ê±° ì œì‹œ
- ì¤‘ë¦½ì  í†¤ ìœ ì§€í•˜ë˜ í†µì°°ë ¥ ìˆëŠ” ì˜ê²¬ í¬í•¨
- ì „ë¬¸ ìš©ì–´ëŠ” í’€ì–´ì„œ ì„¤ëª…

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ì£¼ì œ ê´€ë ¨ ì¸í¬ê·¸ë˜í”½]]
[[IMAGE: ë°ì´í„° ì‹œê°í™” ì°¨íŠ¸]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-listicle-guide",
    name: "ë¦¬ìŠ¤íŠ¸í˜• ê°€ì´ë“œ",
    templateType: "prompt",
    category: "tutorial",
    tone: "friendly",
    tags: ["ê°€ì´ë“œ", "íŒ", "ì¶”ì²œ", "ë¦¬ìŠ¤íŠ¸", "ë°©ë²•", "ë² ìŠ¤íŠ¸", "TOP"],
    isDefault: true,
    priority: 85,
    description: "ì„œë¡ â†’Nê°€ì§€ í¬ì¸íŠ¸â†’ê²°ë¡  êµ¬ì¡°ì˜ ìŠ¤ìº”í•˜ê¸° ì¢‹ì€ ë¦¬ìŠ¤íŠ¸ ì½˜í…ì¸ ",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ë¦¬ìŠ¤íŠ¸í˜• ê°€ì´ë“œ

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
í•µì‹¬ ì •ë³´ë¥¼ ìŠ¤ìº”í•˜ê¸° ì‰¬ìš´ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì „ë‹¬í•˜ì—¬ ë…ìê°€ ë¹ ë¥´ê²Œ ê°€ì¹˜ë¥¼ ì–»ë„ë¡ í•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. í›„í‚¹ ë„ì…ë¶€
- ë…ìì˜ ë¬¸ì œë‚˜ ìš•êµ¬ë¥¼ ì–¸ê¸‰
- ì´ ê¸€ì„ í†µí•´ ì–»ì„ ìˆ˜ ìˆëŠ” ê°€ì¹˜ ì˜ˆê³ 
- ìˆ«ìë¥¼ í™œìš©í•œ êµ¬ì²´ì ì¸ ì•½ì† (ì˜ˆ: "5ê°€ì§€ ë°©ë²•", "10ê°€ì§€ íŒ")

### 2. ë¦¬ìŠ¤íŠ¸ í•­ëª© (5-10ê°œ ê¶Œì¥)
ê° í•­ëª©ì€ ë‹¤ìŒ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤:
- **ì œëª©**: í•µì‹¬ í‚¤ì›Œë“œ í¬í•¨, í˜¸ê¸°ì‹¬ ìœ ë°œ
- **ì„¤ëª…**: 2-3ë¬¸ì¥ìœ¼ë¡œ êµ¬ì²´ì  ì„¤ëª…
- **ì˜ˆì‹œ/íŒ**: ì‹¤ì œ ì ìš© ì‚¬ë¡€ë‚˜ ì¶”ê°€ íŒ
- **ì£¼ì˜ì **: í•´ë‹¹ë˜ëŠ” ê²½ìš° ì£¼ì˜ì‚¬í•­

### 3. ë³´ë„ˆìŠ¤ íŒ (ì„ íƒ)
- ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ë˜ì§€ ì•Šì€ ì¶”ê°€ íŒ
- "ì—¬ê¸°ì„œ ëì´ ì•„ë‹™ë‹ˆë‹¤" ëŠë‚Œìœ¼ë¡œ ê°€ì¹˜ ì¶”ê°€

### 4. ê²°ë¡  ë° CTA
- í•µì‹¬ ë‚´ìš© 1ì¤„ ìš”ì•½
- ë…ì í–‰ë™ ìœ ë„ (ëŒ“ê¸€, ê³µìœ , ê´€ë ¨ ê¸€ ì½ê¸°)

## ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- ê° í•­ëª©ì€ ë…ë¦½ì ìœ¼ë¡œ ì½í˜€ë„ ê°€ì¹˜ ìˆì–´ì•¼ í•¨
- ë²ˆí˜¸ ë§¤ê¸°ê¸°ë¡œ êµ¬ì¡°í™”
- ì´ëª¨ì§€ ì ì ˆíˆ í™œìš©
- ì§§ê³  ì„íŒ©íŠ¸ ìˆëŠ” ë¬¸ì¥

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ì£¼ì œ ê´€ë ¨ ì•„ì´ì½˜ ë˜ëŠ” ì¼ëŸ¬ìŠ¤íŠ¸]]
[[IMAGE: ì²´í¬ë¦¬ìŠ¤íŠ¸ ë˜ëŠ” ì¸í¬ê·¸ë˜í”½]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-storytelling",
    name: "ìŠ¤í† ë¦¬í…”ë§í˜•",
    templateType: "prompt",
    category: "lifestyle",
    tone: "casual",
    tags: ["ì´ì•¼ê¸°", "ê²½í—˜", "ì‚¬ë¡€", "ì—¬ì •", "ì„±ì¥", "ì‹¤íŒ¨", "ì„±ê³µ"],
    isDefault: true,
    priority: 80,
    description: "í›„í‚¹â†’ì „ê°œâ†’í´ë¼ì´ë§‰ìŠ¤â†’êµí›ˆ êµ¬ì¡°ì˜ ëª°ì…ê° ìˆëŠ” ìŠ¤í† ë¦¬",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ìŠ¤í† ë¦¬í…”ë§í˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ë…ìë¥¼ ì´ì•¼ê¸° ì†ìœ¼ë¡œ ëŒì–´ë“¤ì—¬ ê°ì •ì  ì—°ê²°ì„ ë§Œë“¤ê³ , ìì—°ìŠ¤ëŸ½ê²Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. í›„í‚¹ ì˜¤í”„ë‹ (The Hook)
- í¥ë¯¸ë¡œìš´ ìƒí™©ì´ë‚˜ ì§ˆë¬¸ìœ¼ë¡œ ì‹œì‘
- "ê·¸ë‚ , ëª¨ë“  ê²ƒì´ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤" ê°™ì€ ê¶ê¸ˆì¦ ìœ ë°œ
- ë…ìê°€ "ë‹¤ìŒì€?" í•˜ê³  ê¶ê¸ˆí•´í•˜ë„ë¡

### 2. ë°°ê²½ ì„¤ì • (The Setup)
- ìƒí™©ê³¼ ë§¥ë½ ì„¤ëª…
- ë“±ì¥ì¸ë¬¼(ë˜ëŠ” ìì‹ ) ì†Œê°œ
- ë¬¸ì œë‚˜ ë„ì „ ê³¼ì œ ì œì‹œ

### 3. ê°ˆë“±ê³¼ ì „ê°œ (Rising Action)
- ì‹œë„ì™€ ì‹¤íŒ¨
- ì¥ì• ë¬¼ê³¼ ì–´ë ¤ì›€
- ê°ì •ì  ìˆœê°„ë“¤

### 4. í´ë¼ì´ë§‰ìŠ¤ (The Climax)
- ì „í™˜ì  ë˜ëŠ” ê¹¨ë‹¬ìŒì˜ ìˆœê°„
- ê°€ì¥ ê°ì •ì ìœ¼ë¡œ ì„íŒ©íŠ¸ ìˆëŠ” ë¶€ë¶„
- "ì•„í•˜!" ëª¨ë¨¼íŠ¸

### 5. í•´ê²°ê³¼ êµí›ˆ (Resolution & Lesson)
- ì–´ë–»ê²Œ ë¬¸ì œë¥¼ í•´ê²°í–ˆëŠ”ì§€
- ë¬´ì—‡ì„ ë°°ì› ëŠ”ì§€
- ë…ìì—ê²Œ ì „í•˜ëŠ” ë©”ì‹œì§€

### 6. ë…ìì—ê²Œ ì§ˆë¬¸ (Engagement)
- ë¹„ìŠ·í•œ ê²½í—˜ ê³µìœ  ìš”ì²­
- ìƒê°ê±°ë¦¬ ë˜ì§€ê¸°

## ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- í˜„ì¬ ì‹œì œë¡œ ìƒìƒí•˜ê²Œ
- ê°ê°ì  ë¬˜ì‚¬ í™œìš© (ë³´ì´ëŠ” ê²ƒ, ë“¤ë¦¬ëŠ” ê²ƒ, ëŠë¼ëŠ” ê²ƒ)
- ëŒ€í™” ì¸ìš©ìœ¼ë¡œ ìƒë™ê° ì¶”ê°€
- ê°ì •ì„ ìˆ¨ê¸°ì§€ ì•Šê¸°

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ìŠ¤í† ë¦¬ ê´€ë ¨ ê°ì„±ì ì¸ ì´ë¯¸ì§€]]
[[IMAGE: ì „í™˜ì ì„ ìƒì§•í•˜ëŠ” ì´ë¯¸ì§€]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-qa-format",
    name: "Q&Aí˜•",
    templateType: "prompt",
    category: "tutorial",
    tone: "friendly",
    tags: ["ì§ˆë¬¸", "ë‹µë³€", "FAQ", "ê¶ê¸ˆì¦", "í•´ê²°", "ê°€ì´ë“œ"],
    isDefault: true,
    priority: 75,
    description: "ì§ˆë¬¸â†’ë‹µë³€â†’ì‹¬í™”â†’ì•¡ì…˜ êµ¬ì¡°ì˜ FAQ ìŠ¤íƒ€ì¼ ì½˜í…ì¸ ",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: Q&Aí˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ë…ìë“¤ì´ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì— ëª…í™•í•˜ê²Œ ë‹µí•˜ê³ , ì‹¬í™” ì •ë³´ê¹Œì§€ ì œê³µí•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ë„ì…ë¶€
- ì´ ì£¼ì œì— ëŒ€í•´ ë§ì€ ë¶„ë“¤ì´ ê¶ê¸ˆí•´í•˜ëŠ” ê²ƒë“¤
- ì´ ê¸€ì—ì„œ ë‹¤ë£° ì§ˆë¬¸ ë¯¸ë¦¬ë³´ê¸°
- ë…ìì˜ ê¶ê¸ˆì¦ì— ê³µê°

### 2. Q&A ì„¹ì…˜ (5-8ê°œ ì§ˆë¬¸)
ê° Q&AëŠ” ë‹¤ìŒ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

**Q. [ì§ˆë¬¸]**
- ë…ìê°€ ì‹¤ì œë¡œ ê²€ìƒ‰í•˜ê±°ë‚˜ ë¬¼ì–´ë³¼ ë²•í•œ ì§ˆë¬¸
- êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ

**A. [ë‹µë³€]**
- í•µì‹¬ ë‹µë³€ ë¨¼ì € (TL;DR)
- ìƒì„¸ ì„¤ëª…
- ì˜ˆì‹œë‚˜ ë¹„ìœ ë¡œ ì´í•´ ë•ê¸°
- ê´€ë ¨ íŒì´ë‚˜ ì£¼ì˜ì‚¬í•­

### 3. ì‹¬í™” ì •ë³´ (Deep Dive)
- ê¸°ë³¸ Q&Aë¥¼ ë„˜ì–´ì„œëŠ” ê³ ê¸‰ ì •ë³´
- "ë” ì•Œê³  ì‹¶ë‹¤ë©´" ì„¹ì…˜
- ê´€ë ¨ ë¦¬ì†ŒìŠ¤ ë§í¬

### 4. ê²°ë¡ 
- í•µì‹¬ ë‚´ìš© ìš”ì•½
- ì¶”ê°€ ì§ˆë¬¸ í™˜ì˜ ë©”ì‹œì§€
- ê´€ë ¨ ê¸€ ì¶”ì²œ

## ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- ì§ˆë¬¸ì€ ëŒ€í™”ì²´ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ
- ë‹µë³€ì€ ì¹œì ˆí•˜ì§€ë§Œ ëª…í™•í•˜ê²Œ
- ì „ë¬¸ ìš©ì–´ëŠ” ì‰½ê²Œ í’€ì–´ì„œ
- ì‹¤ì œ ì‚¬ë¡€ í™œìš©

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: FAQ ê´€ë ¨ ì•„ì´ì½˜]]
[[IMAGE: ë‹¨ê³„ë³„ ê°€ì´ë“œ ì¸í¬ê·¸ë˜í”½]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-news-commentary",
    name: "ë‰´ìŠ¤ í•´ì„¤í˜•",
    templateType: "prompt",
    category: "news",
    tone: "formal",
    tags: ["ë‰´ìŠ¤", "ì†ë³´", "í•´ì„¤", "ë¶„ì„", "ì „ë§", "ì—…ë°ì´íŠ¸", "ë°œí‘œ"],
    isDefault: true,
    priority: 85,
    description: "ì†ë³´â†’ë°°ê²½â†’ë¶„ì„â†’ì „ë§ êµ¬ì¡°ì˜ ë‰´ìŠ¤ í•´ì„¤ ì½˜í…ì¸ ",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ë‰´ìŠ¤ í•´ì„¤í˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ìµœì‹  ë‰´ìŠ¤ë‚˜ ë°œí‘œë¥¼ ë…ìê°€ ì‰½ê²Œ ì´í•´í•˜ê³  ì˜ë¯¸ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ í•´ì„¤í•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. í—¤ë“œë¼ì¸ & ë¦¬ë“œ
- í•µì‹¬ ë‰´ìŠ¤ë¥¼ 1-2ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½
- 5W1H ì¤‘ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒ í¬í•¨
- ë…ìì˜ ê´€ì‹¬ì„ ë„ëŠ” ì•µê¸€

### 2. ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ë‚˜ (What Happened)
- ì‚¬ê±´/ë°œí‘œì˜ êµ¬ì²´ì  ë‚´ìš©
- ì£¼ìš” ìˆ˜ì¹˜ë‚˜ ì¸ìš©
- ê°ê´€ì  ì‚¬ì‹¤ ì „ë‹¬

### 3. ì™œ ì¤‘ìš”í•œê°€ (Why It Matters)
- ì´ ë‰´ìŠ¤ê°€ ì™œ ì£¼ëª©ë°›ëŠ”ì§€
- ì˜í–¥ ë°›ëŠ” ëŒ€ìƒì€ ëˆ„êµ¬ì¸ì§€
- ì‹œì¥/ì—…ê³„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥

### 4. ë°°ê²½ ì„¤ëª… (Context)
- ì´ ë‰´ìŠ¤ê°€ ë‚˜ì˜¤ê²Œ ëœ ë°°ê²½
- ê´€ë ¨ëœ ì´ì „ ì´ë²¤íŠ¸
- ì—…ê³„ ë™í–¥ê³¼ì˜ ì—°ê²°

### 5. ë‹¤ì–‘í•œ ì‹œê° (Perspectives)
- ê¸ì •ì  ì‹œê°
- ë¹„íŒì  ì‹œê°
- ì „ë¬¸ê°€ ì˜ê²¬

### 6. ì•ìœ¼ë¡œì˜ ì „ë§ (What's Next)
- ë‹¨ê¸°ì  ì˜ˆìƒ ë³€í™”
- ì¥ê¸°ì  íŠ¸ë Œë“œ
- ì£¼ëª©í•´ì•¼ í•  í›„ì† ì´ë²¤íŠ¸

### 7. ë…ìë¥¼ ìœ„í•œ ì¡°ì–¸
- ì´ ë‰´ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë…ìê°€ í•  ìˆ˜ ìˆëŠ” ê²ƒ
- ë” ì•Œì•„ë³¼ ë¦¬ì†ŒìŠ¤

## ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- ê°ê´€ì ì´ê³  ì¤‘ë¦½ì ì¸ í†¤
- íŒ©íŠ¸ ì²´í¬ëœ ì •ë³´ë§Œ ì‚¬ìš©
- ì¶”ì¸¡ì€ ëª…í™•íˆ êµ¬ë¶„
- ì¶œì²˜ ëª…ì‹œ

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ë‰´ìŠ¤ ê´€ë ¨ ê³µì‹ ì´ë¯¸ì§€]]
[[IMAGE: ë°ì´í„° ì°¨íŠ¸ ë˜ëŠ” íƒ€ì„ë¼ì¸]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },

  // === ì¶”ê°€ 5ì¢… í”„ë¡¬í”„íŠ¸ ===
  {
    id: "prompt-comparison",
    name: "ë¹„êµ ë¶„ì„í˜•",
    templateType: "prompt",
    category: "review",
    tone: "analytical",
    tags: ["ë¹„êµ", "VS", "ëŒ€ê²°", "ì„ íƒ", "ì¶”ì²œ", "ì¥ë‹¨ì ", "ë¶„ì„", "í‰ê°€"],
    isDefault: true,
    priority: 82,
    description: "A vs B í˜•íƒœë¡œ ë‘ ê°€ì§€ ì´ìƒì„ ê°ê´€ì ìœ¼ë¡œ ë¹„êµ ë¶„ì„",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ë¹„êµ ë¶„ì„í˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ë‘ ê°€ì§€ ì´ìƒì˜ ì˜µì…˜ì„ ê°ê´€ì ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ë…ìì˜ ì„ íƒì„ ë•ìŠµë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ë¹„êµ ëŒ€ìƒ ì†Œê°œ
- ê° ì˜µì…˜ì˜ ê°„ëµí•œ ì†Œê°œ
- ì™œ ì´ ë¹„êµê°€ í•„ìš”í•œì§€

### 2. ë¹„êµ ê¸°ì¤€ ì„¤ì •
- ì£¼ìš” ë¹„êµ í•­ëª© ì •ì˜ (ìµœì†Œ 5ê°œ)
- ê° í•­ëª©ì´ ì™œ ì¤‘ìš”í•œì§€

### 3. ìƒì„¸ ë¹„êµ
ê° ê¸°ì¤€ë³„ë¡œ:
- **[ê¸°ì¤€ëª…]**
  - Aì˜ íŠ¹ì§•: (ì„¤ëª…)
  - Bì˜ íŠ¹ì§•: (ì„¤ëª…)
  - ğŸ† ìŠ¹ì: (íŒì • ë° ì´ìœ )

### 4. ë¹„êµí‘œ (ì„ íƒ)
| í•­ëª© | A | B |
|------|---|---|
| ê¸°ì¤€1 | â­â­â­ | â­â­ |
| ê¸°ì¤€2 | â­â­ | â­â­â­ |

### 5. ìƒí™©ë³„ ì¶”ì²œ
- "~í•œ ë¶„ê»˜ëŠ” Aë¥¼ ì¶”ì²œ"
- "~í•œ ë¶„ê»˜ëŠ” Bë¥¼ ì¶”ì²œ"

### 6. ìµœì¢… ê²°ë¡ 
- ê°ê´€ì ì¸ ì´í‰
- ê°œì¸ì  ì¶”ì²œ (ì„ íƒ)

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ë¹„êµ ì¸í¬ê·¸ë˜í”½]]
[[IMAGE: VS ì´ë¯¸ì§€]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-tutorial-stepbystep",
    name: "ë‹¨ê³„ë³„ íŠœí† ë¦¬ì–¼",
    templateType: "prompt",
    category: "tutorial",
    tone: "friendly",
    tags: ["íŠœí† ë¦¬ì–¼", "ê°€ì´ë“œ", "ë”°ë¼í•˜ê¸°", "ë‹¨ê³„ë³„", "ì„¤ì¹˜", "ì„¤ì •", "ë°©ë²•"],
    isDefault: true,
    priority: 78,
    description: "ì´ˆë³´ìë„ ë”°ë¼í•  ìˆ˜ ìˆëŠ” ìƒì„¸í•œ ë‹¨ê³„ë³„ ê°€ì´ë“œ",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ë‹¨ê³„ë³„ íŠœí† ë¦¬ì–¼

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ì´ˆë³´ìë„ ì‰½ê²Œ ë”°ë¼í•  ìˆ˜ ìˆëŠ” ìƒì„¸í•œ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ê°œìš”
- ì´ íŠœí† ë¦¬ì–¼ì—ì„œ ë°°ìš¸ ê²ƒ
- ì˜ˆìƒ ì†Œìš” ì‹œê°„
- í•„ìš”í•œ ì‚¬ì „ ì§€ì‹

### 2. ì¤€ë¹„ë¬¼
- í•„ìš”í•œ ë„êµ¬/ê³„ì •/í™˜ê²½
- ì‚¬ì „ ì„¤ì • ì‚¬í•­

### 3. ë‹¨ê³„ë³„ ê°€ì´ë“œ
**Step 1: [ë‹¨ê³„ëª…]**
- ìƒì„¸ ì„¤ëª…
- ìŠ¤í¬ë¦°ìƒ·/ì½”ë“œ ìœ„ì¹˜ í‘œì‹œ
- âš ï¸ ì£¼ì˜ì‚¬í•­

**Step 2: [ë‹¨ê³„ëª…]**
- (ë°˜ë³µ)

### 4. ë¬¸ì œ í•´ê²° (Troubleshooting)
- ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜
- í•´ê²° ë°©ë²•

### 5. ë‹¤ìŒ ë‹¨ê³„
- ì¶”ê°€ë¡œ ë°°ìš¸ ìˆ˜ ìˆëŠ” ê²ƒ
- ê´€ë ¨ ë¦¬ì†ŒìŠ¤ ë§í¬

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ë‹¨ê³„ë³„ ìŠ¤í¬ë¦°ìƒ·]]
[[IMAGE: ì²´í¬ë¦¬ìŠ¤íŠ¸]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-review-honest",
    name: "ì†”ì§ ë¦¬ë·°í˜•",
    templateType: "prompt",
    category: "review",
    tone: "casual",
    tags: ["ë¦¬ë·°", "í›„ê¸°", "ì‚¬ìš©ê¸°", "ì†”ì§", "ì¥ë‹¨ì ", "ì¶”ì²œ", "ë¹„ì¶”ì²œ"],
    isDefault: true,
    priority: 76,
    description: "ì¥ë‹¨ì ì„ ì†”ì§í•˜ê²Œ ê³µìœ í•˜ëŠ” ì‚¬ìš© í›„ê¸° í˜•ì‹",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ì†”ì§ ë¦¬ë·°í˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ì œí’ˆ/ì„œë¹„ìŠ¤ë¥¼ ì§ì ‘ ì‚¬ìš©í•œ ê²½í—˜ì„ ì†”ì§í•˜ê²Œ ê³µìœ í•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ì²«ì¸ìƒ
- ì™œ ì´ê²ƒì„ ì„ íƒí–ˆëŠ”ì§€
- ê¸°ëŒ€í–ˆë˜ ê²ƒ

### 2. ì œí’ˆ/ì„œë¹„ìŠ¤ ê°œìš”
- ê¸°ë³¸ ìŠ¤í™/ì •ë³´
- ê°€ê²© ì •ë³´

### 3. ì¥ì  (ìµœì†Œ 3ê°œ)
- êµ¬ì²´ì ì¸ ìƒí™©ê³¼ í•¨ê»˜ ì„¤ëª…
- "ì´ëŸ° ì ì´ ì¢‹ì•˜ë‹¤"

### 4. ë‹¨ì  (ìµœì†Œ 2ê°œ)
- ì†”ì§í•˜ê²Œ ì•„ì‰¬ìš´ ì 
- "ì´ê±´ ê°œì„ ë˜ë©´ ì¢‹ê² ë‹¤"

### 5. ì‹¤ì œ ì‚¬ìš© ê²½í—˜
- ì¼ìƒì—ì„œ ì–´ë–»ê²Œ í™œìš©í–ˆëŠ”ì§€
- êµ¬ì²´ì ì¸ ì—í”¼ì†Œë“œ

### 6. ì´ì  ë° ì¶”ì²œ ëŒ€ìƒ
- ë³„ì  (ì„ íƒ)
- "ì´ëŸ° ë¶„ê»˜ ì¶”ì²œ/ë¹„ì¶”ì²œ"

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ì œí’ˆ ì‹¤ì œ ì‚¬ìš© ì‚¬ì§„]]
[[IMAGE: ì¥ë‹¨ì  ë¹„êµ]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-trend-prediction",
    name: "íŠ¸ë Œë“œ ì˜ˆì¸¡í˜•",
    templateType: "prompt",
    category: "business",
    tone: "analytical",
    tags: ["íŠ¸ë Œë“œ", "ì „ë§", "ì˜ˆì¸¡", "ë¯¸ë˜", "2024", "2025", "ë³€í™”", "í˜ì‹ "],
    isDefault: true,
    priority: 79,
    description: "ë°ì´í„°ì™€ ì¸ì‚¬ì´íŠ¸ ê¸°ë°˜ì˜ ë¯¸ë˜ íŠ¸ë Œë“œ ì „ë§",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: íŠ¸ë Œë“œ ì˜ˆì¸¡í˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ë°ì´í„°ì™€ ì¸ì‚¬ì´íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¯¸ë˜ íŠ¸ë Œë“œë¥¼ ì „ë§í•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. í˜„ì¬ ìƒí™© ì§„ë‹¨
- í˜„ì¬ ì‹œì¥/ì—…ê³„ í˜„í™©
- ìµœê·¼ ì£¼ìš” ë³€í™”

### 2. íŠ¸ë Œë“œ ì‹œê·¸ë„
- ì£¼ëª©í•´ì•¼ í•  ì‹ í˜¸ë“¤
- ì„ ë„ ê¸°ì—…ë“¤ì˜ ì›€ì§ì„
- ê´€ë ¨ ë°ì´í„°/í†µê³„

### 3. ì˜ˆì¸¡ íŠ¸ë Œë“œ (3-5ê°œ)
ê° íŠ¸ë Œë“œë³„ë¡œ:
- **íŠ¸ë Œë“œëª…**
- ì™œ ì´ê²ƒì´ ë¶€ìƒí•˜ëŠ”ê°€
- êµ¬ì²´ì  ì‚¬ë¡€/ì¦ê±°
- ì˜ˆìƒ ì„íŒ©íŠ¸

### 4. ì‹¤í–‰ ì œì•ˆ
- ê°œì¸/ê¸°ì—…ì´ ì¤€ë¹„í•´ì•¼ í•  ê²ƒ
- ê¸°íšŒì™€ ìœ„í—˜ ìš”ì†Œ

### 5. ê²°ë¡ 
- í•µì‹¬ ë©”ì‹œì§€
- ì•¡ì…˜ ì•„ì´í…œ

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: íŠ¸ë Œë“œ ê·¸ë˜í”„/ì°¨íŠ¸]]
[[IMAGE: ë¯¸ë˜ ì´ë¯¸ì§€]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-case-study",
    name: "ì‚¬ë¡€ ì—°êµ¬í˜•",
    templateType: "prompt",
    category: "business",
    tone: "professional",
    tags: ["ì‚¬ë¡€", "ì¼€ì´ìŠ¤ìŠ¤í„°ë””", "ì„±ê³µ", "ì‹¤íŒ¨", "ë¶„ì„", "êµí›ˆ", "ì „ëµ"],
    isDefault: true,
    priority: 77,
    description: "ì‹¤ì œ ì‚¬ë¡€ë¥¼ ê¹Šì´ ë¶„ì„í•˜ì—¬ ì¸ì‚¬ì´íŠ¸ë¥¼ ë„ì¶œ",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ì‚¬ë¡€ ì—°êµ¬í˜•

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ì‹¤ì œ ì‚¬ë¡€ë¥¼ ê¹Šì´ ë¶„ì„í•˜ì—¬ ë…ìê°€ ì ìš©í•  ìˆ˜ ìˆëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ì‚¬ë¡€ ì†Œê°œ
- ì–´ë–¤ ê¸°ì—…/ì œí’ˆ/ì¸ë¬¼ì¸ì§€
- ì™œ ì´ ì‚¬ë¡€ê°€ ì£¼ëª©í•  ë§Œí•œì§€

### 2. ë°°ê²½ ë° ë§¥ë½
- ë‹¹ì‹œ ì‹œì¥ ìƒí™©
- ì§ë©´í–ˆë˜ ë„ì „ ê³¼ì œ

### 3. ì „ëµ ë° ì‹¤í–‰
- ì–´ë–¤ ê²°ì •ì„ ë‚´ë ¸ëŠ”ì§€
- êµ¬ì²´ì ì¸ ì‹¤í–‰ ë°©ë²•
- íˆ¬ì…ëœ ë¦¬ì†ŒìŠ¤

### 4. ê²°ê³¼
- ì •ëŸ‰ì  ì„±ê³¼ (ìˆ«ì)
- ì •ì„±ì  ì„±ê³¼
- ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼

### 5. ì„±ê³µ/ì‹¤íŒ¨ ìš”ì¸ ë¶„ì„
- í•µì‹¬ ì„±ê³µ ìš”ì¸ (ë˜ëŠ” ì‹¤íŒ¨ ì›ì¸)
- ìš°ì—°ê³¼ í•„ì—°

### 6. ìš°ë¦¬ê°€ ë°°ìš¸ ì 
- ì ìš© ê°€ëŠ¥í•œ êµí›ˆ
- ì£¼ì˜í•´ì•¼ í•  ì 

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ì‚¬ë¡€ ê´€ë ¨ ì´ë¯¸ì§€]]
[[IMAGE: ì„±ê³µ/ì‹¤íŒ¨ ì°¨íŠ¸]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-daily-essay",
    name: "ì¼ìƒ ì—ì„¸ì´ (ë“œë¼ë§ˆí‹±)",
    templateType: "prompt",
    category: "lifestyle",
    tone: "casual",
    tags: ["ì—ì„¸ì´", "ê°€ì¡±", "ì¼ìƒ", "ê°ë™", "ìŠ¤í† ë¦¬"],
    isDefault: true,
    priority: 95,
    description:
      "ëŒ€í™”ë¬¸ê³¼ êµ¬ì²´ì ì¸ ìƒí™© ë¬˜ì‚¬ë¥¼ í†µí•´ ì˜í™” ê°™ì€ ì¼ìƒì„ ê¸°ë¡í•©ë‹ˆë‹¤.",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ì¼ìƒ ì—ì„¸ì´

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ë…ìê°€ ê¸€ì“´ì´ì˜ ìƒí™©ì— ê°ì •ì´ì…í•  ìˆ˜ ìˆë„ë¡, í•œ í¸ì˜ ë“œë¼ë§ˆì²˜ëŸ¼ ìƒìƒí•œ ì¼ìƒì„ ê¸°ë¡í•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ë°°ê²½ ì„¤ì • (Scene Setting)
- ì–¸ì œ, ì–´ë””ì„œ, ëˆ„êµ¬ì™€ í•¨ê»˜ì¸ì§€ ìì—°ìŠ¤ëŸ½ê²Œ ë¬˜ì‚¬í•©ë‹ˆë‹¤.
- ê·¸ ë‚ ì˜ ë¶„ìœ„ê¸°, ë‚ ì”¨, í˜¹ì€ íŠ¹ë³„í•œ ê³„ê¸°ë¥¼ ì–¸ê¸‰í•©ë‹ˆë‹¤.

### 2. ì—í”¼ì†Œë“œ ì „ê°œ (Episode)
- **ëŒ€í™”ë¬¸ í•„ìˆ˜ í¬í•¨:** ë“±ì¥ì¸ë¬¼ ê°„ì˜ ëŒ€í™”ë¥¼ "[ ]" ì•ˆì— ë„£ì–´ í˜„ì¥ê°ì„ ì‚´ë¦½ë‹ˆë‹¤.
- ì‚¬ê±´ì˜ íë¦„ì„ ì‹œê°„ ìˆœì„œëŒ€ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì„œìˆ í•©ë‹ˆë‹¤.
- ì¤‘ê°„ì¤‘ê°„ ê¸€ì“´ì´ì˜ ì†ë§ˆìŒ(ë…ë°±)ì„ ì„ì–´ì¤ë‹ˆë‹¤.

### 3. ê°ê°ì  ë””í…Œì¼ (Details)
- ìŒì‹ì˜ ë§›, ì†Œë¦¬, ëˆˆì— ë³´ì´ëŠ” í’ê²½ ë“±ì„ êµ¬ì²´ì ìœ¼ë¡œ ë¬˜ì‚¬í•©ë‹ˆë‹¤.
- ì˜ˆ: "í™©ê¸ˆë¹›ìœ¼ë¡œ ë³€í•œ ë“¤íŒ", "ì…ì•ˆ ê°€ë“ í¼ì§€ëŠ” ê³ ì†Œí•¨"

### 4. ë§ˆë¬´ë¦¬ ë° ì—¬ìš´ (Ending)
- ì‚¬ê±´ì´ ë§ˆë¬´ë¦¬ëœ í›„ì˜ ê°ì •ì´ë‚˜ ê¹¨ë‹¬ìŒì„ ì •ë¦¬í•©ë‹ˆë‹¤.
- ë…ìì—ê²Œ ë”°ëœ»í•œ ì—¬ìš´ì„ ë‚¨ê¸°ëŠ” ë¬¸ì¥ìœ¼ë¡œ ëë§ºìŠµë‹ˆë‹¤.

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ìƒí™©ì— ë§ëŠ” ê°ì„± ì‚¬ì§„]]
[[IMAGE: ìŒì‹ì´ë‚˜ ì¥ì†Œ í´ë¡œì¦ˆì—…]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-stock-report",
    name: "ì£¼ì‹ ì¢…ëª© ë¶„ì„ ë¦¬í¬íŠ¸",
    templateType: "prompt",
    category: "business",
    tone: "analytical",
    tags: ["ì£¼ì‹", "ì¢…ëª©ë¶„ì„", "íˆ¬ì", "ì¬í…Œí¬", "ë¦¬í¬íŠ¸"],
    isDefault: true,
    priority: 92,
    description:
      "ìµœì‹  ë‰´ìŠ¤, ì¬ë¬´, ì°¨íŠ¸, ìˆ˜ê¸‰ì„ ì¢…í•©í•˜ì—¬ ì „ë¬¸ì ì¸ íˆ¬ì ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ì£¼ì‹ ì¢…ëª© ë¶„ì„

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
íˆ¬ììê°€ í˜„ëª…í•œ íŒë‹¨ì„ ë‚´ë¦´ ìˆ˜ ìˆë„ë¡ ê°ê´€ì ì¸ ë°ì´í„°ì™€ ë…¼ë¦¬ì ì¸ ì „ë§ì„ ì œê³µí•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. í—¤ë“œë¼ì¸ & ìš”ì•½
- ì¢…ëª©ëª…ê³¼ í˜„ì¬ ê°€ì¥ í•«í•œ ì´ìŠˆë¥¼ ê²°í•©í•œ ë§¤ë ¥ì ì¸ ì œëª©
- ë°”ìœ ë…ìë¥¼ ìœ„í•œ 3ì¤„ í•µì‹¬ ìš”ì•½

### 2. ìµœê·¼ ë‰´ìŠ¤ ë° ì´ìŠˆ (News & Issues)
- ì£¼ê°€ì— ì˜í–¥ì„ ë¯¸ì¹œ ìµœê·¼ ì‚¬ê±´(í˜¸ì¬/ì•…ì¬) ì •ë¦¬
- ê´€ë ¨ ë‰´ìŠ¤ë‚˜ ê³µì‹œ ë‚´ìš© ë¶„ì„

### 3. ê¸°ì—… ê°œìš” ë° ì¬ë¬´ (Overview & Financials)
- ì´ íšŒì‚¬ê°€ ë¬´ì—‡ìœ¼ë¡œ ëˆì„ ë²„ëŠ”ì§€(BM) ê°„ë‹¨ ìš”ì•½
- ë§¤ì¶œì•¡, ì˜ì—…ì´ìµ, ë¶€ì±„ë¹„ìœ¨ ë“± í•µì‹¬ ì¬ë¬´ì§€í‘œ ì¶”ì„¸ ë¶„ì„ (í‘œ í™œìš© ê¶Œì¥)

### 4. ìˆ˜ê¸‰ ë° ì°¨íŠ¸ ë¶„ì„ (Technical)
- ì™¸êµ­ì¸/ê¸°ê´€ì˜ ë§¤ë§¤ ë™í–¥
- ì£¼ìš” ì§€ì§€ì„  ë° ì €í•­ì„  ë¶„ì„
- í˜„ì¬ ì£¼ê°€ì˜ ìœ„ì¹˜(ì €í‰ê°€/ê³ í‰ê°€)

### 5. íˆ¬ì í¬ì¸íŠ¸ ë° ì „ë§ (Outlook)
- í–¥í›„ ì£¼ê°€ ìƒìŠ¹ ëª¨ë©˜í…€ (ì¼ì •, ìˆ˜ì£¼ ê¸°ëŒ€ê° ë“±)
- **ê²°ë¡ :** ë§¤ìˆ˜/ë§¤ë„/ê´€ë§ ë“± ëª…í™•í•œ ì˜ê²¬ ì œì‹œ (ë‹¨, ë©´ì±…ì¡°í•­ í¬í•¨)

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ì£¼ê°€ ì°¨íŠ¸]]
[[IMAGE: ê´€ë ¨ ì œí’ˆì´ë‚˜ ê¸°ì—… ë¡œê³ ]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
  {
    id: "prompt-food-review",
    name: "ë¦¬ì–¼ ë§›ì§‘ íƒë°©ê¸°",
    templateType: "prompt",
    category: "review",
    tone: "friendly",
    tags: ["ë§›ì§‘", "ë¨¹ë°©", "ë‚´ëˆë‚´ì‚°", "ì†”ì§í›„ê¸°", "ë°ì´íŠ¸"],
    isDefault: true,
    priority: 88,
    description:
      "ë°©ë¬¸ ë™ê¸°ë¶€í„° ë§› í‰ê°€, ì´í‰ê¹Œì§€ ì´ì–´ì§€ëŠ” ì†”ì§í•˜ê³  ìƒì„¸í•œ ë¦¬ë·°ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.",
    content: `
# ê¸€ì“°ê¸° í”„ë¡¬í”„íŠ¸: ë¦¬ì–¼ ë§›ì§‘ íƒë°©ê¸°

${COMMON_STRUCTURE_RULES}

## ëª©í‘œ
ë…ìê°€ ì§ì ‘ ë°©ë¬¸í•œ ê²ƒì²˜ëŸ¼ ë§›ê³¼ ë¶„ìœ„ê¸°ë¥¼ ìƒìƒí•˜ê²Œ ì „ë‹¬í•˜ê³ , ì‹¤ì§ˆì ì¸ ë°©ë¬¸ íŒì„ ì œê³µí•©ë‹ˆë‹¤.

## í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ

### 1. ë°©ë¬¸ ë™ê¸° ë° ì™¸ê´€
- ì™œ ì´ ì‹ë‹¹ì„ ê°€ê²Œ ë˜ì—ˆëŠ”ì§€ (ì§€ë‚˜ê°€ë‹¤ ìš°ì—°íˆ? ê²€ìƒ‰í•´ì„œ?)
- ê°€ê²Œì˜ ì²«ì¸ìƒ, ìœ„ì¹˜, ì£¼ì°¨ í¸ì˜ì„±

### 2. ë©”ë‰´ ë° ì£¼ë¬¸
- ë©”ë‰´íŒ êµ¬ì„±ê³¼ ê°€ê²©ëŒ€
- ì£¼ë¬¸í•œ ë©”ë‰´ì™€ ê·¸ ì´ìœ 

### 3. ë§› í‰ê°€ (Taste Review)
- ë©”ì¸ ìŒì‹ì˜ ë¹„ì£¼ì–¼, í–¥, ì‹ê°, ë§› ìƒì„¸ ë¬˜ì‚¬
- ë°‘ë°˜ì°¬(ê¹€ì¹˜ ë“±)ì— ëŒ€í•œ í‰ê°€ë„ í¬í•¨
- ì†”ì§í•œ ì¥ì ê³¼ ì•„ì‰¬ìš´ ì  ì–¸ê¸‰

### 4. ë¶„ìœ„ê¸° ë° ì„œë¹„ìŠ¤
- ë§¤ì¥ ì¸í…Œë¦¬ì–´, ì²­ê²°ë„, ì§ì› ì¹œì ˆë„
- í˜¼ë°¥ ê°€ëŠ¥í•œì§€, ë‹¨ì²´ ëª¨ì„ì— ì¢‹ì€ì§€ ë“±

### 5. ì´í‰ ë° ì •ë³´ (Summary)
- ì¬ë°©ë¬¸ ì˜ì‚¬ ì—¬ë¶€
- ì§€ë„ ì •ë³´, ì˜ì—…ì‹œê°„, ë¸Œë ˆì´í¬ íƒ€ì„ ë“± í•„ìˆ˜ ì •ë³´ ìš”ì•½

## ì´ë¯¸ì§€ íƒœê·¸
[[IMAGE: ê°€ê²Œ ì™¸ê´€]]
[[IMAGE: ë¨¹ìŒì§ìŠ¤ëŸ¬ìš´ ìŒì‹ ê·¼ì ‘ìƒ·]]
[[IMAGE: ë©”ë‰´íŒ]]
    `,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
];

// ============================================================
// ê¸°ë³¸ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿ (ê¸°ì¡´ í˜¸í™˜ì„± ìœ ì§€)
// ============================================================
const defaultLayouts: ExtendedTemplate[] = [
  {
    id: "default-power-blogger",
    name: "íŒŒì›Œë¸”ë¡œê±° í…œí”Œë¦¿ (ê¸°ë³¸)",
    templateType: "layout",
    category: "general",
    tone: "friendly",
    tags: ["ë¸”ë¡œê·¸", "ê¸°ë³¸", "ë²”ìš©", "SEO"],
    isDefault: true,
    priority: 100,
    description: "ê²€ì¦ëœ íŒŒì›Œë¸”ë¡œê±° ìŠ¤íƒ€ì¼ì˜ ê¸°ë³¸ ë ˆì´ì•„ì›ƒ",
    content: defaultLayoutTemplate,
    createdAt: Date.now(),
    updatedAt: Date.now(),
  },
];

// ============================================================
// ëª¨ë“  ê¸°ë³¸ í…œí”Œë¦¿ í•©ì¹˜ê¸°
// ============================================================
const allDefaultTemplates: ExtendedTemplate[] = [
  ...defaultLayouts,
  ...defaultPersonas,
  ...defaultPrompts,
];

// ============================================================
// ë¡œì»¬ ì‹œê°„ ê¸°ì¤€ ì˜¤ëŠ˜ ë‚ ì§œ ë¬¸ìì—´ ë°˜í™˜ (YYYY-MM-DD)
// ============================================================
const getLocalTodayDate = (): string => {
  const now = new Date();
  const year = now.getFullYear();
  const month = String(now.getMonth() + 1).padStart(2, "0");
  const day = String(now.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
};

// ============================================================
// Store ì •ì˜
// ============================================================
const store = new Store<UserSchema>({
  defaults: {
    settings: {
      blogName: "",
      writeRedirectUrl:
        "https://blogName.tistory.com/manage/newpost/?type=post&returnURL=%2Fmanage%2Fposts%2F",
      aiApiKey: "",
      aiProvider: "gemini",
      aiModel: "gemini-2.5-flash",
      localAiModel: "gemma3:4b",
      localAiEnabled: false,
      rssUrls: [],
      targetLanguage: "Korean",
      unsplashAccessKey: "",
      pexelsApiKey: "",
      // [NEW] ë„¤ì´ë²„ ì´ˆê¸°ê°’
      naverBlogId: "",
      naverEnabled: false,
      // [NEW] í‹°ìŠ¤í† ë¦¬ ì´ˆê¸°ê°’
      tistoryEnabled: true,
    },
    // [MODIFIED] ì´ˆê¸°ê°’ êµ¬ì¡° ë³€ê²½
    dailyUsage: {
      lastResetDate: getLocalTodayDate(),
      tistory: {},
      naver: {},
    },
    auth: {
      cookies: [],
      lastLogin: 0,
      // [NEW] ë„¤ì´ë²„ ì´ˆê¸°ê°’
      naverCookies: [],
      naverLastLogin: 0,
    },
    feedCache: {
      items: [],
      lastUpdated: 0,
    },
    templates: allDefaultTemplates,
    publishedPosts: [],
    // [ì‹ ê·œ] ì´ˆê¸°ê°’ ì¶”ê°€
    publishedHistory: [],
    materials: [],
    scheduler: {
      enabled: false,
      intervalMinutes: 60,
      lastRun: 0,
      totalPublished: 0,
    },
    localAi: {
      installed: false,
      installedModels: [],
      lastUsed: 0,
    },
    secure: {},
    "job-queue": {
      queue: [],
    },
  },
  encryptionKey: "auto-story-secure-key",
});

// ============================================================
// [NEW] UsageManager: ì¼ì¼ ì‚¬ìš©ëŸ‰ ê´€ë¦¬ í—¬í¼
// ============================================================
export const UsageManager = {
  /**
   * ì‚¬ìš©ëŸ‰ ë°ì´í„° êµ¬ì¡°ê°€ êµ¬ë²„ì „ì´ê±°ë‚˜ ë‚ ì§œê°€ ì§€ë‚¬ìœ¼ë©´ ì´ˆê¸°í™”
   */
  ensureStructureAndDate: () => {
    const today = getLocalTodayDate();
    const usage = store.get("dailyUsage") as any;

    // 1. êµ¬ì¡° ë§ˆì´ê·¸ë ˆì´ì…˜ (êµ¬ë²„ì „ ë°ì´í„° ê°ì§€)
    // êµ¬ë²„ì „ì€ tistoryCount(number)ê°€ ì¡´ì¬í•˜ê±°ë‚˜ tistory(object)ê°€ ì—†ìŒ
    if (typeof usage.tistoryCount === "number" || !usage.tistory) {
      console.log("[UsageManager] Migrating legacy dailyUsage structure...");
      store.set("dailyUsage", {
        lastResetDate: today,
        tistory: {},
        naver: {},
      });
      return;
    }

    // 2. ë‚ ì§œ ë³€ê²½ ì²´í¬
    if (usage.lastResetDate !== today) {
      console.log(
        `[UsageManager] Date changed (${usage.lastResetDate} -> ${today}). Resetting counts.`
      );
      store.set("dailyUsage", {
        lastResetDate: today,
        tistory: {}, // ëª¨ë“  ë¸”ë¡œê·¸ ì¹´ìš´íŠ¸ ë¦¬ì…‹
        naver: {},
      });
    }
  },

  /**
   * íŠ¹ì • í”Œë«í¼/IDì˜ í˜„ì¬ ì‚¬ìš©ëŸ‰ ì¡°íšŒ
   */
  getUsage: (platform: "tistory" | "naver", identifier: string): number => {
    if (!identifier) return 0;
    UsageManager.ensureStructureAndDate();

    const usage = store.get("dailyUsage");
    // í•´ë‹¹ IDì˜ ê¸°ë¡ì´ ì—†ìœ¼ë©´ 0 ë°˜í™˜
    return usage[platform]?.[identifier] || 0;
  },

  /**
   * ì‚¬ìš©ëŸ‰ 1 ì¦ê°€
   */
  incrementUsage: (platform: "tistory" | "naver", identifier: string): void => {
    if (!identifier) return;
    UsageManager.ensureStructureAndDate();

    const usage = store.get("dailyUsage");
    const currentMap = usage[platform] || {};
    const currentCount = currentMap[identifier] || 0;

    // ì  í‘œê¸°ë²•ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • í‚¤ë§Œ ì—…ë°ì´íŠ¸ (Deep merge issue ë°©ì§€)
    store.set(`dailyUsage.${platform}.${identifier}`, currentCount + 1);
  },

  /**
   * ë°œí–‰ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
   * Tistory: 15íšŒ, Naver: 100íšŒ
   */
  checkLimit: (platform: "tistory" | "naver", identifier: string): boolean => {
    const limit = platform === "tistory" ? 15 : 100;
    const current = UsageManager.getUsage(platform, identifier);
    return current < limit;
  },

  /**
   * ì „ì²´ í†µê³„ ë°˜í™˜ (API ì‘ë‹µìš©)
   */
  getAllStats: () => {
    UsageManager.ensureStructureAndDate();
    return store.get("dailyUsage");
  },
};

// ============================================================
// ë§ˆì´ê·¸ë ˆì´ì…˜ í•¨ìˆ˜: í…œí”Œë¦¿ ë™ê¸°í™” (Source of Truth ë°©ì‹)
// ============================================================
export function migrateTemplates(): void {
  const currentTemplates = store.get("templates") || [];

  // IDë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë§¤í•‘ ìƒì„±
  const existingMap = new Map<string, ExtendedTemplate>();
  for (const t of currentTemplates) {
    existingMap.set(t.id, t);
  }

  let needsMigration = false;

  // 1. ê¸°ë³¸ í…œí”Œë¦¿ ì†ŒìŠ¤ (Source of Truth)
  const canonicalTemplates = [
    ...defaultPersonas,
    ...defaultPrompts,
    ...defaultLayouts,
  ];

  // 2. ë³‘í•© ë¡œì§ (ê¸°ì¡´ í…œí”Œë¦¿ ìœ ì§€ + ê¸°ë³¸ í…œí”Œë¦¿ ê°•ì œ ì—…ë°ì´íŠ¸)
  const mergedTemplates = [...currentTemplates];

  for (const canonical of canonicalTemplates) {
    const existing = existingMap.get(canonical.id);

    if (existing) {
      // [ê·œì¹™] ê¸°ë³¸ í…œí”Œë¦¿(ID ë§¤ì¹­ë¨)ì€ í•­ìƒ ìµœì‹  ì†ŒìŠ¤ë¡œ ë®ì–´ì”ì›ë‹ˆë‹¤.
      // ì‚¬ìš©ìê°€ ê¸°ë³¸ í…œí”Œë¦¿ì„ ìˆ˜ì •í–ˆë”ë¼ë„, ì•± ì—…ë°ì´íŠ¸ ì‹œ ì´ˆê¸°í™”ë˜ëŠ” ê²ƒì´ ë³´í†µì…ë‹ˆë‹¤.
      // ë‹¨, isDefaultê°€ falseì¸ ì‚¬ìš©ì ì •ì˜ í…œí”Œë¦¿ì€ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.
      if (existing.isDefault !== false) {
        // ê¸°ë³¸ í…œí”Œë¦¿ ì—…ë°ì´íŠ¸
        const index = mergedTemplates.findIndex((t) => t.id === canonical.id);
        if (index !== -1) {
          mergedTemplates[index] = canonical;
          needsMigration = true;
        }
      }
    } else {
      // ê¸°ë³¸ í…œí”Œë¦¿ì´ ëˆ„ë½ëœ ê²½ìš° ì¶”ê°€
      mergedTemplates.push(canonical);
      needsMigration = true;
    }
  }

  // 3. ID ì¤‘ë³µ ì œê±° (ì•ˆì „ì¥ì¹˜)
  const uniqueTemplates = Array.from(
    new Map(mergedTemplates.map((t) => [t.id, t])).values()
  );

  // 4. êµ¬ì¡° ì—…ë°ì´íŠ¸ (templateType ëˆ„ë½ ë°©ì§€)
  const finalTemplates = uniqueTemplates.map((t) => {
    // ì´ë¯¸ templateTypeì´ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ìœ ì§€
    if (t.templateType) {
      return {
        ...t,
        updatedAt: Date.now(), // ìµœì‹  ì—…ë°ì´íŠ¸ ì‹œê°„ ê°±ì‹ 
      };
    }

    // êµ¬í˜• ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
    return {
      ...t,
      templateType: "layout" as TemplateType,
      category: (t.category as TemplateCategory) || "general",
      isDefault: !!t.isDefault,
      priority: t.priority || 50,
      updatedAt: Date.now(),
    };
  });

  if (needsMigration) {
    store.set("templates", finalTemplates);
    console.log(
      `Templates synced successfully (${finalTemplates.length} total)`
    );
  } else {
    console.log("Templates are up to date.");
  }
}

// ============================================================
// [NEW] ë°œí–‰ ì´ë ¥ ê´€ë¦¬ í—¬í¼ í•¨ìˆ˜
// ============================================================

/**
 * ë§í¬ê°€ ì´ë¯¸ ë°œí–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸
 */
export const isLinkPublished = (link: string): boolean => {
  const history = store.get("publishedHistory") || [];
  return history.includes(link);
};

/**
 * ë§í¬ë¥¼ ë°œí–‰ ì´ë ¥ì— ì¶”ê°€
 */
export const addToPublishedHistory = (link: string): void => {
  if (!link) return;
  const history = store.get("publishedHistory") || [];
  if (!history.includes(link)) {
    // ìµœì‹  1000ê°œë§Œ ìœ ì§€ (ì„±ëŠ¥ ê´€ë¦¬)
    const newHistory = [link, ...history].slice(0, 1000);
    store.set("publishedHistory", newHistory);
  }
};

export default store;
